//*****************************************************************************
//
//	File:		TkTextFile.cpp
//	Created:	2013-08-26
//
//*****************************************************************************

#include "TkTextFile.h"

const char* TkTextFile::_pcFileMode[TARS_FILE_MODE_COUNT] = { "r", "w", "a", "r+", "w+", "a+" };

//-----------------------------------------------------------------------------
// Name:		TkTextFile constructor
//
// Created:		2013-08-26
//-----------------------------------------------------------------------------
TkTextFile::TkTextFile()
: _pFile( nullptr )
{
	
}

//-----------------------------------------------------------------------------
// Name:		TkTextFile destructor
//
// Created:		2013-08-26
//-----------------------------------------------------------------------------
TkTextFile::~TkTextFile()
{
	close();
}

//-----------------------------------------------------------------------------
// Name:		open
//
// Created:		2013-08-26
//-----------------------------------------------------------------------------
void TkTextFile::open( const TkString& strFileName, const TARS_FILE_MODE eFileMode )
{
	_pFile = fopen( strFileName.buffer(), _pcFileMode[eFileMode] );
}

//-----------------------------------------------------------------------------
// Name:		close
//
// Created:		2013-08-26
//-----------------------------------------------------------------------------
void TkTextFile::close()
{
	if	( _pFile )
	{
		fclose( _pFile );
		_pFile = nullptr;
	}
}
